<!-- README.md -->
<!-- Generated by ChatGPT on 2024-06-16 -->

# Auto Live Streamer

This project allows you to manage RTMP live streams using ffmpeg from a Google App Engine (GAE) service. You can start, stop, and list streams via a simple HTTP API.

## Requirements

- Go 1.19
- Google App Engine SDK
- ffmpeg

## Setup

1. **Clone the repository:**

    ```sh
    git clone https://github.com/n0mimono/auto-live-streamer.git
    cd auto-live-streamer
    ```

2. **Install dependencies:**

    ```sh
    go mod tidy
    ```

3. **Ensure ffmpeg is installed:**

    ```sh
    ffmpeg -version
    ```

## Running Locally

To run the application locally:

```sh
go run main.go
```

The server will start on http://localhost:8080.

## Deployment

To deploy to Google App Engine:

```
gcloud app deploy
```

## API Endpoints

### Ping

- **URL:** `/api/v1/ping`
- **Method:** `GET`
- **Description:** Returns `pong` to check if the server is running.

### Start Stream

- **URL:** `/api/v1/start_stream`
- **Method:** `POST`
- **Description:** Starts a new RTMP stream.
- **Request Body:**
  ```json
  {
    "key": "your_rtmp_key",
    "image": "path/to/your/image.png" // Optional
  }
  ```

### Stop Stream

- **URL:** /api/v1/stop_stream
- **Method:** POST
- **Description:** Stops an existing RTMP stream.
  ```json
  {
    "key": "your_rtmp_key"
  }
  ```

### List Streams

- **URL**: /api/v1/streams
- **Method**: GET
- **Description**: Returns a list of currently active streams.
